<?xml version="1.0" encoding="UTF-8"?>
<pid_control_config>
    <!-- 系统参数常量 -->
    <system_parameters>
        <!-- ai帧率 -->
        <ai_frame_rate_hz>10</ai_frame_rate_hz>
        <!-- 电机参数 -->
        <!-- 电机速度等级值（64个） -->
        <speed_levels max_speed_level="16" s0="5.625" s1="6" s2="6.43" s3="6.92" s4="7.5" s5="8.18" s6="9" s7="10" s8="11.25" s9="12.86" s10="15" s11="18" s12="22.5" s13="30" s14="45" s15="90"/>
        <!-- 电机最小角速度（度/秒） -->
        <motor_vmin_deg_per_sec>0.0</motor_vmin_deg_per_sec>
        <!-- 电机最大角速度（度/秒） -->
        <motor_vmax_deg_per_sec>90.0</motor_vmax_deg_per_sec>
        <!-- 电机T方向最小步数 -->
        <motor_t_min_steps>0</motor_t_min_steps>
        <!-- 电机T方向最大步数 -->
        <motor_t_max_steps>1024</motor_t_max_steps>
        <!-- T电机 0:步数最小时水平 1:步数最小是垂直 -->
        <motor_t_orientation>0</motor_t_orientation>
        <!-- 电机T方向最小的角 -->
        <motor_t_min_angle>0.0</motor_t_min_angle>
        <!-- 电机T方向最大的角 -->
        <motor_t_max_angle>90.0</motor_t_max_angle>
        <!-- 镜头的焦距（就1个的话就瞎填了，反正用不着） -->
        <focal-length length="1" f0="5.92"/>

        <!-- 图像和视场参数 -->
        <!-- ai码流宽度 -->
        <frame_width_pixels>640.0</frame_width_pixels>
        <!-- ai码流高度 -->
        <frame_height_pixels>352.0</frame_height_pixels>
        <!-- 水平视场角 -->
        <horizontal_fov_deg>105</horizontal_fov_deg>
        <!-- 垂直视场角 -->
        <vertical_fov_deg>60</vertical_fov_deg>
    </system_parameters>
    
    <!-- PID 附加参数 -->
    <pid_parameters>
        <!-- 死区大小 -->
        <deadband_deg>0.02</deadband_deg>
        <!-- D滤波系数 -->
        <d_filter_alpha>0.2</d_filter_alpha>
        <!-- 积分系数 -->
        <integral_ratio>0.8</integral_ratio>
        <!-- 积分限幅 -->
        <guard_epsilon>0.000001</guard_epsilon>
        
        <!-- 水平轴PID参数 -->
        <horizontal>
            <kp>3</kp>
            <ki>0</ki>
            <kd>0.1</kd>
        </horizontal>
        
        <!-- 垂直轴PID参数 -->
        <vertical>
            <kp>3.5</kp>
            <ki>0</ki>
            <kd>0.1</kd>
        </vertical>
    </pid_parameters>
    
    <!-- 预测器参数 -->
    <prediction_parameters>
        <!-- 速度滤波系数 -->
        <velocity_alpha>0.5</velocity_alpha>
        <!-- 最大位移因子 -->
        <max_shift_factor>0.3</max_shift_factor>
        <!-- 保护区比例 -->
        <guard_ratio>0.5</guard_ratio>
        <!-- 保护区最小值 -->
        <guard_ratio_min>0.3</guard_ratio_min>
        <!-- 保护区最大值 -->
        <guard_ratio_max>0.6</guard_ratio_max>
        <!-- 保护区自适应窗口大小（帧数） -->
        <guard_adapt_window>30</guard_adapt_window>
        <!-- 目标中心容忍度（度） -->
        <center_tolerance_deg>0.3</center_tolerance_deg>
    </prediction_parameters>
    
    <!-- 功能开关 -->
    <feature_switches>
        <!-- 使能预测 -->
        <enable_prediction>0</enable_prediction>
        <!-- 使能D滤波 -->
        <enable_d_filter>0</enable_d_filter>
        <!-- 使能预测保护 -->
        <enable_prediction_guard>0</enable_prediction_guard>
        <!-- 使能预测保护自适应 -->
        <enable_prediction_adaptive_guard>0</enable_prediction_adaptive_guard>
    </feature_switches>
    
</pid_control_config>